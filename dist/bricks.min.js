/*!
 * Bricks.js 1.7.1 - A blazing fast masonry layout generator for fixed width elements.
 * Copyright (c) 2016 Michael Cavalea - https://github.com/callmecavs/bricks.js
 * License: MIT
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Bricks=n()}(this,function(){"use strict";var t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n=function(){function n(t,n){return u[t]=u[t]||[],u[t].push(n),this}function e(t,e){return e._once=!0,n(t,e),this}function i(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?u[t].splice(u[t].indexOf(n),1):delete u[t],this}function r(t){for(var n=this,e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var a=u[t]&&u[t].slice();return a&&a.forEach(function(e){e._once&&i(t,e),e.apply(n,r)}),this}var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={};return t({},o,{on:n,once:e,off:i,emit:r})},e=function(){function t(t){t.forEach(function(t){return t()})}function e(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return g.call(t)}function i(t){return Array.apply(null,Array(t)).map(function(){return 0})}function r(){return F.map(function(t){return t.mq&&window.matchMedia("(min-width: "+t.mq+")").matches}).indexOf(!0)}function o(){x=r()}function u(){w=x===-1?F[F.length-1]:F[x]}function a(){M=i(w.columns)}function c(){I=S[A?"new":"all"]()}function d(){0!==I.length&&(L=I.map(function(t){return t.clientWidth}),_=I.map(function(t){return t.clientHeight}),j=Math.min.apply(Math,L))}function f(){var t=void 0,n=void 0,e=void 0;I.forEach(function(i,r){if(k=M.indexOf(Math.min.apply(Math,M)),t=i.getAttribute("data-span")||1,n=i.getAttribute("data-span-o")||t,e=M.length-k,t=parseInt(t),n=parseInt(n),null===i.getAttribute("data-packed")&&i.setAttribute("data-span-o",t),t!==n&&(t=n),t>e&&(t=e),k<M.length-1&&M[k+1]>M[k]&&(t=1),O=M[k]+"px",E=k*(j+w.gutter)+"px",i.style.position="absolute",H?(i.style.top=O,i.style.left=E):i.style.transform="translate3d("+E+", "+O+", 0)",i.setAttribute("data-span",t),i.setAttribute(B,""),q=L[r],z=_[r],q&&z)if(t>1)for(var o=k;o<k+t&&o<M.length;o++)M[o]+=z+w.gutter;else M[k]+=z+w.gutter})}function l(){P.style.position="relative",P.style.width=w.columns*j+(w.columns-1)*w.gutter+"px",P.style.height=Math.max.apply(Math,M)-w.gutter+"px"}function s(){b||(requestAnimationFrame(p),b=!0)}function p(){x!==r()&&(h(),C.emit("resize",w)),b=!1}function h(){return A=!1,t(T.concat(W)),C.emit("pack")}function v(){return A=!0,t(W),C.emit("update")}function m(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t?"addEventListener":"removeEventListener";return window[n]("resize",s),C}var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=Array.prototype.slice,A=void 0,b=void 0,x=void 0,w=void 0,k=void 0,M=void 0,O=void 0,E=void 0,q=void 0,z=void 0,j=void 0,I=void 0,L=void 0,_=void 0,B=0===y.packed.indexOf("data-")?y.packed:"data-"+y.packed,F=y.sizes.slice().reverse(),H=y.position!==!1,P=y.container.nodeType?y.container:document.querySelector(y.container),S={all:function(){return e(P.children)},new:function(){return e(P.children).filter(function(t){return!t.hasAttribute(""+B)})}},T=[o,u,a],W=[c,d,f,l],C=n({pack:h,update:v,resize:m});return C};return e});
